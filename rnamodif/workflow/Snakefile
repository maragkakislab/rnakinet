from pathlib import Path
from rnamodif.workflow.training_configs import training_configs
from rnamodif.workflow.evaluation_configs import comparisons, time_data, individual_exps, prediction_type, pooling, model_name, stat_exps


configfile: "config.yml"

include: "rules/basecalling.smk"
include: "rules/alignment.smk"
include: "rules/data_split.smk"
include: "rules/inference.smk"
include: "rules/visualizations.smk"
include: "rules/diff_exp.smk"
include: "rules/training.smk"


#TODO: REPLACE WITH YOUR FILE PATHS
# KEY - name (can be anything)
# VALUE - path to fast5 files, searches recursivelly
name_to_fast5_path = [
    '20230706_1704_MN24753_FAR80946_027f7c1e': 'local_store/arsenite/raw/20230706_mmu_dRNA_3T3_5EU_400_1/runs/no_sample/20230706_1704_MN24753_FAR80946_027f7c1e/fast5_pass',
]

for name, path in name_to_fast5_path.items():
    config['EXPERIMENT_NAME_TO_PATH'][name] = path

rule all:
    input:
        expand("outputs/predictions/CUSTOM_allneg_maxpool/{experiment_name}/max_pooling.csv",
            experiment_name=name_to_fast5_path.keys(),
        )